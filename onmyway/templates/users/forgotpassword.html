{% extends 'common.html' %}
{% load static %}

{% block content %}
<div class="forgotpassword_and_otp_pages_outer-box">
    <div class="forgotpassword_and_otp_pages_box">
        <div class="forgotpassword_and_otp_pages_form">
            <h1 class="forgotpassword_and_otp_pages_heading">Forgot Password</h1>
            <p class="forgotpassword_and_otp_pages_title">Please enter your registered phone number, we will send you the otp to reset the password</p>
            {% if messages %}
                {% for message in messages %}
                    <div class="forgotpassword_and_otp_pages_alert alert-danger">{{ message }}
                        <button class="forgotpassword_and_otp_pages_close-btn" aria-lable="Close">Ã—</button>
                    </div>
                {% endfor %}
            {% endif %}
            <form action="{% url 'forgotpassword' %}" method="post">
                {% csrf_token %}
                <input class="forgotpassword_and_otp_pages_input" type="number" name="phone" placeholder="Enter your phone number">
                <button class="forgotpassword_and_otp_pages_button" type="submit">Get OTP</button>
            </form>
        </div>
    <h3 class="forgotpassword_and_otp_pages_login"><a href="/login/">Remember your password?</a></h3>
    <h3 class="forgotpassword_and_otp_pages_account">Don't have an account?</h3>
    <h1 class="forgotpassword_and_otp_pages_register"><a href="/register/">Register Here</a></h1>
    </div>
</div>
<script>
    const closeButtons = document.querySelectorAll('.forgotpassword_and_otp_pages_close-btn');
    closeButtons.forEach(function(btn){
        btn.addEventListener('click', function(){
            const alertDiv = btn.closest('.forgotpassword_and_otp_pages_alert');
            if(alertDiv){
            alertDiv.parentNode.removeChild(alertDiv);
            }
        }); 
    });
</script>

{% endblock %}